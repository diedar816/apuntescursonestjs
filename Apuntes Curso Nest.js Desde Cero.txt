git add ApuntesNestJS.txt
git commit -m "Agrego secciÃ³n sobre controladores"
git push

Minuto 12 (Archivos Apps)

Los mÃ³dulos lo que hacen es agrupar rutas con sus funcionalidades incorporadas.

app.module.ts en nest.js

En NestJS, el archivo app.module.ts es uno de los archivos mÃ¡s importantes de cualquier aplicaciÃ³n. Es el mÃ³dulo raÃ­z de tu aplicaciÃ³n â€” el que Nest usa como punto de entrada para construir y organizar el resto de los componentes.

âœ… Â¿QuÃ© es un mÃ³dulo en NestJS?
Un mÃ³dulo en NestJS es una clase que organiza cÃ³digo relacionado en un mismo lugar: controladores, servicios, otros mÃ³dulos, etc. Sirve para mantener el cÃ³digo limpio y modular.

ðŸ“ Â¿Para quÃ© sirve app.module.ts?
app.module.ts define el mÃ³dulo principal de la aplicaciÃ³n, y le dice a NestJS:

QuÃ© controladores usar

QuÃ© servicios usar (providers)

QuÃ© otros mÃ³dulos cargar

Es como el "centro de operaciones" donde se configura lo esencial.

ðŸ§  Ejemplo bÃ¡sico de app.module.ts
ts
Copiar
Editar
import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';

@Module({
  imports: [],              // AquÃ­ importÃ¡s otros mÃ³dulos
  controllers: [AppController],  // AquÃ­ definÃ­s los controladores
  providers: [AppService],       // AquÃ­ los servicios o lÃ³gica de negocio
})
export class AppModule {}
ðŸ§© Â¿Por quÃ© es importante?
Es el punto de inicio cuando Nest arranca la app.

Todos los demÃ¡s mÃ³dulos terminan conectÃ¡ndose desde aquÃ­ (directa o indirectamente).

Sin AppModule, NestJS no sabrÃ­a quÃ© cargar al iniciar.

el app-module.ts es llamado por el main.ts

Minuto 15, donde se crean las rutas es en el app.controller.ts

El archivo **app.controller.ts** en NestJS define el controlador principal de la aplicaciÃ³n, y su rol es manejar las solicitudes HTTP que llegan a tu aplicaciÃ³n.

âœ… Â¿QuÃ© es un controlador en NestJS?
Un controlador (controller):

Recibe las solicitudes del cliente (como peticiones GET, POST, etc.)

Llama a servicios o lÃ³gica de negocio para procesarlas

Devuelve una respuesta

En resumen: es la capa que se encarga de responder a las rutas de tu API.

ðŸ§  Ejemplo bÃ¡sico de app.controller.ts
ts
Copiar
Editar
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }
}
ðŸ” Â¿QuÃ© hace ese cÃ³digo?
@Controller() âžœ Marca la clase como controlador. Puede tener un path (como @Controller('productos')).

@Get() âžœ Define una ruta HTTP GET en /.

getHello() âžœ Es el mÃ©todo que maneja la solicitud. AquÃ­ llama a un mÃ©todo del servicio (appService.getHello()).

Entonces, cuando alguien accede a http://localhost:3000/, este controlador responde.

ðŸ§© En resumen:
Archivo	Rol
app.module.ts	Punto central que conecta controladores y servicios
app.controller.ts	Maneja rutas y solicitudes HTTP
app.service.ts	Contiene la lÃ³gica de negocio (lo que no es directamente HTTP)

Â¿Te gustarÃ­a ver cÃ³mo crear tu propio controlador personalizado, como por ejemplo uno para manejar productos o usuarios?

Que es app.service.ts

ChatGPT Plus
Perfecto, Â¡vamos con el siguiente archivo clave! ðŸ”

âœ… Â¿QuÃ© es app.service.ts en NestJS?
El archivo **app.service.ts** define un servicio, que en NestJS representa la lÃ³gica de negocio de la aplicaciÃ³n. Los servicios se encargan de hacer cosas como:

Acceder a una base de datos

Calcular o procesar datos

Manejar operaciones de negocio

Servir como intermediario entre controladores y datos

ðŸ§  Â¿Por quÃ© usar un servicio?
La idea en NestJS (y en buenas prÃ¡cticas de desarrollo) es mantener separados los roles:

El controlador maneja las rutas HTTP y las respuestas.

El servicio contiene la lÃ³gica real: quÃ© hacer con esos datos.

Esto hace tu cÃ³digo mÃ¡s limpio, reutilizable y fÃ¡cil de probar.

ðŸ“ Ejemplo bÃ¡sico de app.service.ts
ts
Copiar
Editar
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
  getHello(): string {
    return 'Â¡Hola desde el servicio!';
  }
}
@Injectable() âžœ Le dice a NestJS que esta clase puede ser inyectada en otras partes, como los controladores.

getHello() âžœ Es un mÃ©todo que el controlador puede llamar para obtener un valor.

ðŸ”— Â¿CÃ³mo se conecta con app.controller.ts?
En el controlador (app.controller.ts) se "inyecta" el servicio:

ts
Copiar
Editar
constructor(private readonly appService: AppService) {}
Y luego se usa:

ts
Copiar
Editar
@Get()
getHello(): string {
  return this.appService.getHello(); // Llama al servicio
}
ðŸ§© En resumen:
Archivo	Rol
app.module.ts	Configura la aplicaciÃ³n y registra servicios y controladores
app.controller.ts	Maneja las rutas y peticiones HTTP
app.service.ts	Contiene la lÃ³gica de negocio de la app

Que es app.controller.spec.ts

Â¡Muy buena pregunta! ðŸ§ª

El archivo **app.controller.spec.ts** es un archivo de pruebas (tests). En NestJS (y en general en TypeScript con Jest), los archivos .spec.ts estÃ¡n diseÃ±ados para probar que tu cÃ³digo funciona como se espera.

âœ… Â¿QuÃ© es app.controller.spec.ts?
Es un archivo que prueba el comportamiento del AppController, asegurÃ¡ndose de que las funciones del controlador:

Devuelvan lo que deben

Llamen correctamente a los servicios

Manejen bien la lÃ³gica

Es parte de la programaciÃ³n orientada a pruebas (TDD o simplemente pruebas unitarias).

ðŸ§  Â¿QuÃ© contiene?
Un ejemplo tÃ­pico se ve asÃ­:

ts
Copiar
Editar
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
  let appController: AppController;

  beforeEach(async () => {
    const app: TestingModule = await Test.createTestingModule({
      controllers: [AppController],
      providers: [AppService],
    }).compile();

    appController = app.get<AppController>(AppController);
  });

  describe('getHello', () => {
    it('should return "Â¡Hola desde el servicio!"', () => {
      expect(appController.getHello()).toBe('Â¡Hola desde el servicio!');
    });
  });
});


